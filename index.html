<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>태국 여행 가계부</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <h2>🇹🇭 태국 여행 가계부</h2>

    <div class="input-group">
        <input type="text" id="desc" placeholder="내용 (예: 팟타이, 그랩, 1차 송금)">
        <input type="number" id="price" placeholder="금액 (THB)" inputmode="numeric">
        
        <div class="radio-label">누가 돈을 냈나요? (또는 보냈나요?)</div>
        <div class="radio-group">
            <input type="radio" name="payer" id="payer-me" value="me">
            <label for="payer-me">🙋‍♂️ 내가 냄</label>
            
            <input type="radio" name="payer" id="payer-hyung" value="hyung">
            <label for="payer-hyung">🙋‍♂️ 형이 냄</label>
        </div>

        <div class="radio-label">어떤 돈인가요?</div>
        <div class="radio-group type-group">
            <input type="radio" name="type" id="type-shared" value="shared" checked>
            <label for="type-shared">🤝 N빵</label>
            
            <input type="radio" name="type" id="type-personal" value="personal">
            <label for="type-personal">👤 개인</label>

            <input type="radio" name="type" id="type-settlement" value="settlement">
            <label for="type-settlement">💸 정산</label>
        </div>

        <button class="save-btn" onclick="addExpense()">기록하기</button>
    </div>

    <div class="summary-container">
        <div class="summary-box shared-box">
            <div class="box-title">🤝 우리 같이 쓴 돈 (전체)</div>
            <div class="box-value" style="margin-bottom: 5px;">
                <span id="total-shared">0</span> THB
            </div>
            <div id="settlement-result" class="settlement-msg">계산 중...</div>
        </div>

        <div class="personal-row">
            <div class="summary-box personal-box">
                <div class="box-title">👤 나 개인</div>
                <div class="box-value"><span id="personal-me">0</span> THB</div>
            </div>
            <div class="summary-box personal-box">
                <div class="box-title">👤 형 개인</div>
                <div class="box-value"><span id="personal-hyung">0</span> THB</div>
            </div>
        </div>
    </div>

    <div class="list-header">📝 지출 내역 (최신순)</div>
    
    <div class="filter-container">
        <div class="filter-row">
            <button id="btn-month-all" class="filter-btn month active" onclick="setMonthFilter('all')">전체기간</button>
            <button id="btn-month-2" class="filter-btn month" onclick="setMonthFilter('2')">2월</button>
            <button id="btn-month-3" class="filter-btn month" onclick="setMonthFilter('3')">3월</button>
            <button id="btn-month-custom" class="filter-btn month" onclick="setMonthFilter('custom')">직접설정</button>
        </div>
        <div id="custom-date-box" class="custom-date-box" style="display:none;">
            <input type="date" id="start-date" onchange="setCustomDate()">
            <span>~</span>
            <input type="date" id="end-date" onchange="setCustomDate()">
        </div>

        <div class="filter-row" style="margin-top:8px;">
            <button id="btn-cat-all" class="filter-btn cat active" onclick="setCategoryFilter('all')">모두보기</button>
            <button id="btn-cat-me" class="filter-btn cat" onclick="setCategoryFilter('me')">🙋‍♂️ 내가냄</button>
            <button id="btn-cat-hyung" class="filter-btn cat" onclick="setCategoryFilter('hyung')">🙋‍♂️ 형이냄</button>
            <button id="btn-cat-settlement" class="filter-btn cat" onclick="setCategoryFilter('settlement')">💸 정산만</button>
        </div>
    </div>

    <ul id="expense-list">
        </ul>
    
    <div style="text-align:center; margin-top:20px;">
        <button class="download-btn" onclick="downloadCSV()">📊 엑셀 파일로 다운로드</button>
    </div>
    
    <div style="height: 100px;"></div>

    <script type="module" src="script.js"></script>
</body>
</html>